@model Project.WebOnline.MVC.Models.HomePageViewModel
@{
	ViewBag.Title = "Home Page";
}

<!-- Page Content -->
<div class="container">
	<div class="row">
		<div class="col-lg-3">
			<br />
			<div class="list-group">
				@foreach (var category in Model.categoriesView)
				{
					<a href="~/Store/Index?categoryId=@category.CategoryID" class="list-group-item">@category.CategoryName</a>
				}
			</div>
		</div>
		<!-- /.col-lg-3 -->
		<div class="col-lg-9">

			@if (!ViewBag.CategoryFilter)
			{
				<div id="homeSlide" class="carousel slide my-4" data-ride="carousel" data-interval="2000">
					<ol class="carousel-indicators">
						<li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
						<li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
						<li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
					</ol>
					<div class="carousel-inner" role="listbox">
						@if (Model.sliderView.Count > 0)
						{
							<div class="carousel-item active">
								<a href="~/Product/Index?productId=@Model.sliderView[0].ProductId">
									<img class="d-block img-fluid" src="@Model.sliderView[0].Image" alt="First slide">
								</a>
							</div>
						}
						@if (Model.sliderView.Count > 1)
						{
							<div class="carousel-item">
								<a href="~/Product/Index?productId=@Model.sliderView[1].ProductId">
									<img class="d-block img-fluid" src="@Model.sliderView[1].Image" alt="First slide">
								</a>
							</div>
						}
						@if (Model.sliderView.Count > 2)
						{
							<div class="carousel-item">
								<a href="~/Product/Index?productId=@Model.sliderView[2].ProductId">
									<img class="d-block img-fluid" src="@Model.sliderView[2].Image" alt="First slide">
								</a>
							</div>
						}
					</div>
					<a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
						<span class="carousel-control-prev-icon" aria-hidden="true"></span>
						<span class="sr-only">Previous</span>
					</a>
					<a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
						<span class="carousel-control-next-icon" aria-hidden="true"></span>
						<span class="sr-only">Next</span>
					</a>
				</div>
			}
			<div class="row">
				@foreach (var product in Model.productsView)
				{
					<div class="col-lg-4 col-md-6 mb-4">
						<div class="card h-100">
							<a href="~/Product/Index?productId=@product.ProductId"><img class="card-img-top" src="@product.Image" alt=""></a>
							<div class="card-body">
								<h4 class="card-title">
									<a href="~/Product/Index?productId=@product.ProductId" value="@product.ProductId">@product.Name</a>
								</h4>
								<h5>S/ @product.Price</h5>
								<p class="card-text">@product.Description</p>
							</div>
							<div class="card-footer">
								<form action="~/Store/Buy" method="get">
									@Html.HiddenFor(modelProduct => product.ProductId)
									@Html.HiddenFor(modelProduct => product.Name)
									@Html.HiddenFor(modelProduct => product.Price)
									@Html.HiddenFor(modelProduct => product.Color)
									@Html.HiddenFor(modelProduct => product.Description)
									@Html.HiddenFor(modelProduct => product.Image)
									@Html.HiddenFor(modelProduct => product.state)
									<input type="number" value="1" name="product.Quantity" readonly hidden />
									@*<input type="text" value="1" name="id" readonly hidden />*@
									<button class="btn btn-outline-info" type="submit">
										Añadir al carrito <i class="fa fa-cart-arrow-down" aria-hidden="true"></i>
									</button>
								</form>
							</div>
						</div>
					</div>
				}

			</div>
			<!-- /.row -->
		</div>
		<!-- /.col-lg-9 -->
	</div>
	<!-- /.row -->
</div>
<!-- /.container -->